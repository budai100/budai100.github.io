<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script src="head/base64.js"></script>
		<script src="head/jquery-1.8.0.js"></script>
		<script>
			$(function(){
				$("#includedContent").load("head/all_head.html");
				$("#the_bottom").load("head/all_bottom.html");
			});
		</script>
		<link rel="stylesheet" type="text/css" href="head/all_head.css"/>
		<link rel="stylesheet" type="text/css" href="base64.css"/>
	</head>
	<body>
		<img id="my5_logo" src="img/my5/base64.png" />
		<div id="includedContent"></div>
		<div id="my5_pan">
			<textarea placeholder="Ctrl+V 粘贴" id="my5_in" onscroll="this.rows++;" rows="1" onclick="clickInput()"></textarea>
			<button id="my5_x" onclick="xxx()">清空</button>
			<script>
				document.getElementById("my5_in").focus()
			</script>
			<div id="my5_a">
				<span class="my5_title">解码</span>
				<button id="my5_a_up" title="粘贴到输入框" onclick="upA()">▲</button>
				<button id="my5_a_copy" onclick="copyTextA()">复制</button>
				<img id="my5_yes_a" src="img/my5/yes.png" />
				<p id="my5_a_text">(等待输入)</p>
			</div>
			<div id="my5_b">
				<span class="my5_title">编码</span>
				<button id="my5_b_up" title="粘贴到输入框" onclick="upB()">▲</button>
				<button id="my5_b_copy" onclick="copyTextB()">复制</button>
				<img id="my5_yes_b" src="img/my5/yes.png" />
				<p id="my5_b_text">(等待输入)</p>
			</div>
			<script>
				$('#my5_in').keyup(function() {
					document.getElementById("my5_yes_a").style.width = "0px";
					document.getElementById("my5_yes_b").style.width = "0px";
					var a = ''
					var b = ''
					try {
						a = Base64.decode($('#my5_in').val());
					} catch(err) { }
					try {
						b = Base64.encode($('#my5_in').val());
					} catch(err) { }
					document.getElementById('my5_a_text').innerHTML = a;
					document.getElementById('my5_b_text').innerHTML = b;
				});
				function change() {
					document.getElementById("my5_yes_a").style.width = "0px";
					document.getElementById("my5_yes_b").style.width = "0px";
					var a = ''
					var b = ''
					try {
						a = Base64.decode($('#my5_in').val());
					} catch(err) { }
					try {
						b = Base64.encode($('#my5_in').val());
					} catch(err) { }
					document.getElementById('my5_a_text').innerHTML = a;
					document.getElementById('my5_b_text').innerHTML = b;
				}
				function clickInput() {
					document.getElementById("my5_yes_a").style.width = "0px";
					document.getElementById("my5_yes_b").style.width = "0px";
				}
				function copyTextA() {
					document.getElementById("my5_yes_a").style.width = "15px";
					document.getElementById("my5_yes_b").style.width = "0px";
					var text = document.getElementById("my5_a_text").innerText;
					var input = document.getElementById("my5_input_a");
					input.value = text;
					input.select();
					document.execCommand("copy");
				}
				function copyTextB() {
					document.getElementById("my5_yes_b").style.width = "15px";
					document.getElementById("my5_yes_a").style.width = "0px";
					var text = document.getElementById("my5_b_text").innerText;
					var input = document.getElementById("my5_input_b");
					input.value = text;
					input.select();
					document.execCommand("copy");
				}
				function upA() {
					var text = document.getElementById("my5_a_text").innerText;
					var input = document.getElementById("my5_in");
					input.value = text;
					change()
					input.focus()
				}
				function upB() {
					var text = document.getElementById("my5_b_text").innerText;
					var input = document.getElementById("my5_in");
					input.value = text;
					change()
					input.focus()
				}
				function xxx() {
					var input = document.getElementById("my5_in");
					input.value = '';
					input.rows = 1;
					change()
					input.focus()
					document.getElementById('my5_a_text').innerHTML = '(等待输入)';
					document.getElementById('my5_b_text').innerHTML = '(等待输入)';
				}
			</script>
		</div>
		<textarea id="my5_input_a"></textarea>
		<textarea id="my5_input_b"></textarea>
		<div id="the_bottom"></div>
	</body>
</html>